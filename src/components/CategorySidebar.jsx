import React from "react";
import { motion } from "framer-motion"; // Import motion

// Define colors (same as before)
const ICON_BLUE = "#334DCF";
const YELLOW = "#FACC15";
const DARK_BLUE_BG = "#22304A";
const LIGHT_BLUE_BADGE = "#5A688A";
const GRADIENT_LIGHT = "rgb(232, 233, 241)";

// SVG Icons (ensure fill prop is used if you abstract them further)
// Define SVGs with className prop for dynamic scaling
const LandIcon = ({ className }) => (
  <svg
    width="62"
    height="62"
    viewBox="0 0 80 91"
    xmlns="http://www.w3.org/2000/svg"
    className={`overflow-visible transition-transform duration-500 ease-in-out ${className}`}
  >
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M11.6945 63.7506V87.9193H3.64525V68.1611C5.98776 65.9368 8.65158 64.4829 11.6945 63.7506ZM16.9994 40.7888C15.2932 41.4952 13.5658 39.7882 14.278 38.0626C14.9826 36.3558 17.4061 36.344 18.1246 38.0626C18.5727 39.1266 18.0559 40.3483 16.9994 40.7888ZM15.4034 21.3697C14.3356 20.9292 13.8303 19.7057 14.2782 18.6431C14.9958 16.9271 17.4196 16.9336 18.1248 18.6431C18.8352 20.3649 17.1184 22.0739 15.4034 21.3697ZM30.5376 10.7118L35.2684 22.1544C34.1891 22.8322 33.3049 23.7387 32.6505 24.783L21.2138 20.046C23.1543 16.107 26.3579 12.7731 30.5376 10.7118ZM27.9999 6.5076C27.3011 4.76667 29.0211 3.08673 30.7327 3.78099C32.426 4.46787 32.4589 6.92519 30.7327 7.63719C29.6649 8.07591 28.4478 7.57041 27.9999 6.5076ZM46.2345 9.67851C41.975 8.23178 37.355 8.20806 33.041 9.67133L37.7834 21.1124C39.012 20.8257 40.2752 20.8257 41.5038 21.1124L46.2345 9.67851ZM47.4286 6.5076C46.7037 4.79637 48.4486 3.07537 50.1501 3.78099C51.8661 4.49259 51.8557 6.93376 50.1501 7.63719C49.0855 8.07611 47.8554 7.57141 47.4286 6.5076ZM58.0845 20.0424L46.6363 24.7812C45.9819 23.7118 45.0861 22.8178 44.0183 22.1526L48.7492 10.7224C52.6877 12.6644 56.0177 15.8639 58.0845 20.0424ZM61.162 18.6431C61.8411 16.9512 64.294 16.9059 65.0086 18.6431C65.4563 19.7057 64.9512 20.9292 63.8832 21.3697C62.8154 21.8084 61.5981 21.3023 61.1618 20.2403C60.9437 19.7254 60.9437 19.1579 61.162 18.6431ZM59.1294 22.5535L47.6812 27.2941C47.9682 28.5415 47.9569 29.8086 47.6812 31.0084L59.118 35.7454C60.5303 31.587 60.6222 26.9656 59.1294 22.5535ZM48.749 47.5905L44.0181 36.1495C45.0975 35.4717 45.9817 34.5652 46.6361 33.5191L58.073 38.258C56.1325 42.1955 52.9287 45.5294 48.749 47.5905ZM61.3916 60.6632L54.077 47.4258C53.4914 47.8937 52.8713 48.336 52.2283 48.7472C52.9171 49.2585 53.4569 49.9434 53.7898 50.7538C54.8118 53.203 53.6405 56.0185 51.1947 57.0341C47.7769 58.4433 44.0865 55.6328 44.5922 51.9125C43.4096 52.1736 42.2039 52.3387 40.9981 52.409V68.0758C46.5221 64.7042 54.5379 61.217 61.3916 60.6632ZM76.3649 69.2325C76.3649 69.5917 76.3695 69.8022 76.2616 70.1789C75.5267 72.8021 71.0255 75.6557 64.7674 75.8929C58.2641 76.1404 51.7993 73.5119 45.9359 70.7588L43.6508 69.6639C46.2115 68.197 49.0362 66.8555 51.8149 65.7969C56.5573 63.9912 60.8173 63.1411 64.1473 63.333C67.8791 63.5487 70.7728 64.1887 72.7708 65.233C74.1372 65.9492 76.2272 67.3493 76.3649 69.2325ZM68.3041 78.2262V87.9191H76.3649V74.6329C74.4129 76.328 71.5766 77.6119 68.3041 78.2262ZM57.5218 77.8889C60.2058 78.4804 62.8606 78.7534 65.5826 78.5706V87.9191H57.5218V77.8889ZM46.7511 74.12V87.9193H54.812V77.1875C52.1021 76.3878 49.4151 75.3148 46.7511 74.12ZM35.9689 68.9405V87.9193H44.0297V72.8619L35.9689 68.9405ZM25.1982 64.5772C27.8851 65.3783 30.5836 66.4643 33.2475 67.6736V87.9193H25.1982V64.5772ZM14.4849 63.2898C17.1374 63.0378 19.8014 63.2862 22.4768 63.872V87.9191H14.4159V63.2957C14.4389 63.2934 14.4618 63.2918 14.4849 63.2898ZM27.0583 48.749C26.0938 48.1327 25.1751 47.4492 24.3255 46.7023L16.7126 60.4731C19.0537 60.4832 21.996 60.8753 24.2797 61.4952C27.9425 62.4233 31.5597 63.8935 35.1307 65.5398L38.2885 67.0351V52.409C37.0827 52.3387 35.8772 52.1736 34.6944 51.9125C35.2003 55.6324 31.5101 58.4433 28.0918 57.0341C25.6461 56.0185 24.4748 53.203 25.4968 50.7538C25.8297 49.9274 26.3808 49.2479 27.0583 48.749ZM31.8581 51.7947C32.5715 53.478 30.8709 55.2379 29.1367 54.5213C28.0689 54.0808 27.5636 52.8589 27.9999 51.7947C28.7086 50.0783 31.1742 50.0905 31.8581 51.7947ZM33.0408 48.633C37.3468 50.096 41.9398 50.096 46.2458 48.633L41.5034 37.1902C40.2506 37.4802 39.0357 37.4802 37.783 37.1902L33.0408 48.633ZM49.3462 50.5079C50.173 50.5079 50.9538 50.9936 51.2753 51.7947C51.7232 52.8589 51.2179 54.081 50.1499 54.5213C48.441 55.2273 46.717 53.5197 47.4284 51.7947C47.7547 51.0038 48.5148 50.5079 49.3462 50.5079ZM37.5306 24.0399C34.7059 25.2074 33.3625 28.4508 34.5337 31.2677C35.7006 34.0864 38.9345 35.4347 41.7564 34.2626C44.581 33.0952 45.9245 29.8521 44.7533 27.0348C43.585 24.2131 40.3425 22.866 37.5306 24.0399ZM32.6389 33.5211C33.3049 34.5909 34.2004 35.4861 35.2684 36.1497L30.5376 47.5927C26.4613 45.5855 23.2117 42.3354 21.2023 38.2617L32.6389 33.5211ZM20.1687 22.5571C18.7563 26.7161 18.6644 31.3369 20.1572 35.7492L31.6054 31.0104C31.3184 29.7616 31.3297 28.4945 31.6054 27.2959L20.1687 22.5571ZM63.8832 36.935C65.588 37.6333 65.5998 40.0782 63.8832 40.7888C62.1664 41.4996 60.4488 39.7711 61.1618 38.0626C61.5983 37 62.8154 36.4941 63.8832 36.935ZM79.0748 69.3125C79.0748 67.2751 77.7963 64.7959 74.034 62.8243C71.7259 61.6168 68.5223 60.8807 64.4804 60.6303L56.1554 45.5657C57.3267 44.3909 58.3486 43.1018 59.2329 41.7263C61.4677 44.7216 66.0865 44.1499 67.5233 40.7001C68.9603 37.2502 66.0523 33.5626 62.3906 34.1087C63.091 30.9018 63.1255 27.5259 62.402 24.196C63.2391 24.3217 64.1188 24.2131 64.9283 23.8802C67.374 22.867 68.5339 20.0497 67.5233 17.6024C66.0798 14.1215 61.4185 13.616 59.2444 16.5637C57.4417 13.7408 55.0531 11.3574 52.2285 9.55333C55.1996 7.34836 54.6377 2.69764 51.1949 1.27065C47.7779 -0.145773 44.0879 2.67053 44.5924 6.39199C41.3314 5.67221 37.9669 5.67221 34.6944 6.39199C35.2007 2.65877 31.4914 -0.14378 28.0918 1.26866C24.6311 2.70661 24.1021 7.37886 27.0585 9.55333C24.2338 11.359 21.8453 13.7408 20.0426 16.5637C17.8767 13.6274 13.2218 14.1058 11.7635 17.6024C10.7415 20.0497 11.9128 22.867 14.3585 23.8802C15.1804 24.2203 16.0237 24.3223 16.8846 24.1997C16.1613 27.4681 16.1613 30.8346 16.8846 34.1032C13.2273 33.5739 10.3279 37.2541 11.7633 40.7003C13.2218 44.2019 17.8842 44.6715 20.0424 41.7408C20.7199 42.7976 21.4777 43.7947 22.3159 44.7214L13.4972 60.6652C8.83974 61.2566 4.68315 63.2465 1.32567 66.6259C1.07312 66.8817 0.923828 67.2279 0.923828 67.5885V89.2795C0.923828 90.03 1.53238 90.639 2.27886 90.639H77.7199C78.4662 90.639 79.075 90.0298 79.075 89.2795L79.0748 69.3125Z"
      fill={ICON_BLUE}
    ></path>
  </svg>
);
const WaterIcon = ({ className }) => (
  <svg
    width="58"
    height="58"
    viewBox="0 0 58 58"
    xmlns="http://www.w3.org/2000/svg"
    className={`overflow-visible transition-transform duration-500 ease-in-out ${className}`}
  >
    <path
      d="M56.2171 45.505H49.6302C50.3611 44.4759 50.8069 43.051 50.8069 41.4534C50.8069 39.5691 50.1864 37.9253 49.2097 36.8878C49.8046 36.6691 50.3797 36.3815 50.9229 36.0239C53.2695 34.4791 54.6703 31.8796 54.6703 29.0702C54.6703 25.7407 52.694 22.7389 49.6357 21.4229L44.9907 19.4242C44.5654 19.2415 44.0732 19.4376 43.8903 19.8624C43.7076 20.2873 43.9037 20.7798 44.3285 20.9627L48.9736 22.9614C51.4169 24.0125 52.9955 26.4105 52.9955 29.0703C52.9955 31.3145 51.8764 33.391 50.0019 34.625C48.1277 35.8589 45.7779 36.0665 43.7164 35.1792L36.2625 31.9718V26.6514L42.8585 29.4897C43.273 29.671 43.7758 29.4805 43.9588 29.0515C44.1415 28.6266 43.9454 28.1341 43.5206 27.9512L21.5292 18.4884V11.1519L41.2487 19.6373C41.6736 19.8196 42.1661 19.6237 42.349 19.1991C42.5317 18.7742 42.3356 18.2816 41.9108 18.0988L36.2628 15.6685V8.40961C36.7482 7.79471 37.039 7.01935 37.039 6.17701C37.039 4.186 35.4193 2.56629 33.4283 2.56629C31.4373 2.56629 29.8176 4.186 29.8176 6.17701C29.8176 7.01946 30.1084 7.79471 30.5938 8.40961V13.2292L21.5293 9.32873V8.54445H22.4783C22.8391 8.54445 23.1593 8.31333 23.273 7.97089C23.3867 7.62845 23.2682 7.25169 22.9791 7.03595L13.773 0.166317C13.476 -0.0554389 13.0684 -0.0554389 12.7714 0.166317L3.56558 7.03584C3.2764 7.25158 3.15795 7.62834 3.27161 7.97078C3.38539 8.31311 3.70554 8.54434 4.06636 8.54434H5.01534V19.0396V25.12C5.01534 25.5825 5.39021 25.9574 5.85277 25.9574C6.31534 25.9574 6.69021 25.5825 6.69021 25.12V19.8771H8.55796V45.505H6.69009V28.4696C6.69009 28.007 6.31523 27.6322 5.85266 27.6322C5.3901 27.6322 5.01523 28.007 5.01523 28.4696V45.5051H0.837432C0.374866 45.5051 0 45.88 0 46.3425V56.2174C0 56.6798 0.374866 57.0547 0.837432 57.0547H56.2173C56.6798 57.0547 57.0547 56.6798 57.0547 56.2173V46.3424C57.0546 45.8799 56.6797 45.505 56.2171 45.505ZM34.5877 14.9478L32.2683 13.9498V9.59539C32.6325 9.71931 33.0223 9.78751 33.428 9.78751C33.8336 9.78751 34.2234 9.71931 34.5877 9.59539V14.9478ZM33.4281 4.24094C34.4955 4.24094 35.364 5.10946 35.364 6.1769C35.364 7.24434 34.4955 8.11275 33.4281 8.11275C32.3606 8.11275 31.4921 7.24434 31.4921 6.1769C31.4921 5.10946 32.3605 4.24094 33.4281 4.24094ZM46.7085 37.4019C48.0224 37.4019 49.1322 39.2573 49.1322 41.4534C49.1322 43.6496 48.0224 45.505 46.7085 45.505C45.3947 45.505 44.2848 43.6496 44.2848 41.4534C44.2848 39.2573 45.3947 37.4019 46.7085 37.4019ZM34.5877 45.505H32.2683V41.2363L34.5877 42.2343V45.505ZM32.2683 24.9328L34.5877 25.9308V31.2513L32.2683 30.2533V24.9328ZM31.1 31.5739L43.0544 36.7178C43.3794 36.8576 43.7107 36.9731 44.0452 37.0697C43.1626 38.1122 42.6101 39.6757 42.6101 41.4536C42.6101 42.3936 42.7653 43.2733 43.0413 44.0484L29.516 38.2285C27.0727 37.1774 25.4941 34.7794 25.4941 32.1195C25.4941 28.996 27.6321 26.3536 30.5935 25.6459V30.8047C30.5935 31.1392 30.7926 31.4417 31.1 31.5739ZM42.189 45.505H36.2625V42.9549L42.189 45.505ZM20.6916 37.7625C21.1542 37.7625 21.5291 37.3876 21.5291 36.9251V20.3117L30.1619 24.0263C26.476 24.9257 23.8194 28.224 23.8194 32.1195C23.8194 35.4491 25.7957 38.4508 28.854 39.7669L30.5936 40.5154V45.5049H21.5291V40.2746C21.5291 39.812 21.1542 39.4371 20.6916 39.4371C20.2291 39.4371 19.8542 39.812 19.8542 40.2746V45.5049H17.9865V19.8771H19.8542V36.9251C19.8542 37.3876 20.2291 37.7625 20.6916 37.7625ZM16.3117 19.8771V22.392H10.2327V19.8771H16.3117ZM11.6365 18.2023V8.54445H14.908V18.2023H11.6365ZM16.3117 24.0669V25.9574H10.2391V24.0669H16.3117ZM16.3117 27.6322V30.0773H10.2327V27.6322H16.3117ZM16.3117 31.7521V33.6426H10.2391V31.7521H16.3117ZM16.3117 35.3174V37.7625H10.2327V35.3174H16.3117ZM10.2391 39.4373H16.3117V41.3278H10.2391V39.4373ZM16.5827 18.2023V8.54445H19.8542V18.2023H16.5827ZM6.58869 6.86958L13.2722 1.88231L19.9557 6.86958H6.58869ZM6.69009 18.2023V8.54445H9.9616V18.2023H6.69009ZM10.2327 43.0025H16.3117V45.505H10.2327V43.0025ZM55.3798 47.1799V49.2702C54.4838 49.4188 53.6354 49.8031 52.9313 50.3896C51.6487 51.4582 49.7865 51.4584 48.5036 50.3896C47.5611 49.6045 46.3661 49.183 45.1412 49.2009C43.9182 49.1849 42.7215 49.6046 41.779 50.3896C40.4959 51.4583 38.6338 51.4583 37.3511 50.3896C36.4305 49.6226 35.2635 49.2003 34.0653 49.2003C32.867 49.2003 31.7001 49.6228 30.7796 50.3896C29.4967 51.4583 27.6347 51.4584 26.3517 50.3896C25.4092 49.6045 24.2157 49.1869 22.9894 49.2009C21.7649 49.1849 20.5696 49.6046 19.627 50.3896C18.3443 51.4585 16.4821 51.4584 15.1994 50.3896C14.2786 49.6226 13.1116 49.2003 11.9135 49.2003C10.7152 49.2003 9.54817 49.6228 8.62761 50.3896C7.345 51.4583 5.48292 51.4583 4.19986 50.3898C3.4742 49.7852 2.5981 49.3956 1.67486 49.2572V47.18L55.3798 47.1799ZM1.67475 55.3799V50.9623C2.20474 51.0821 2.70452 51.3238 3.12775 51.6765C5.03172 53.2626 7.79542 53.2626 9.6995 51.6765C10.3197 51.1597 11.1059 50.8751 11.9134 50.8751C12.7207 50.8751 13.5069 51.1597 14.1272 51.6765C16.0313 53.2626 18.7951 53.2626 20.699 51.6765C21.3365 51.1453 22.1466 50.8614 22.9746 50.8756C22.9844 50.8758 22.9944 50.8758 23.0042 50.8756C23.8361 50.8617 24.6421 51.1453 25.2799 51.6765C27.1835 53.2626 29.9475 53.2626 31.8516 51.6765C32.472 51.1597 33.258 50.8751 34.0654 50.8751C34.8728 50.8751 35.6589 51.1597 36.2792 51.6765C38.1833 53.2626 40.947 53.2626 42.8511 51.6765C43.4886 51.1453 44.2994 50.8614 45.1266 50.8756C45.1364 50.8758 45.1464 50.8758 45.1562 50.8756C45.9843 50.864 46.7943 51.1453 47.4319 51.6765C48.3838 52.4695 49.5508 52.8661 50.7176 52.8661C51.8847 52.8661 53.0515 52.4695 54.0035 51.6765C54.4057 51.3414 54.8778 51.1046 55.3799 50.9791V55.38L1.67475 55.3799Z"
      fill={ICON_BLUE}
    ></path>
  </svg>
);
const KidsIcon = ({ className }) => (
  <svg
    width="62"
    height="63"
    viewBox="0 0 58 58"
    xmlns="http://www.w3.org/2000/svg"
    className={`overflow-visible transition-transform duration-500 ease-in-out ${className}`}
  >
    <path
      d="M61.9947 15.8216C61.9641 15.5182 61.7736 15.2427 61.5023 15.1049L32.4388 0.358101C31.5036 -0.11971 30.4948 -0.119225 29.5595 0.358706L18.5654 5.93716C18.1182 6.16413 17.9394 6.71086 18.1664 7.15827C18.3934 7.6058 18.9399 7.78433 19.3872 7.55735L28.5813 2.89225L20.5231 15.0066H10.9285H4.70581L15.6068 9.47538C16.0542 9.2484 16.2329 8.70168 16.006 8.25426C15.779 7.80673 15.2324 7.62821 14.7851 7.85518L0.497227 15.1049C0.197401 15.2563 -0.00228109 15.5781 1.96747e-05 15.915V17.0807C1.96747e-05 20.3449 2.65498 23.0004 5.91844 23.0004C8.02691 23.0004 9.88011 21.8911 10.9287 20.2262C11.9772 21.8911 13.8304 23.0004 15.9389 23.0004C18.0473 23.0004 19.9005 21.8911 20.9491 20.2262C21.9976 21.8911 23.8508 23.0004 25.9593 23.0004C26.8043 23.0004 27.6079 22.8211 28.3358 22.5005V25.5439C28.3358 26.0455 28.7423 26.4522 29.244 26.4522C29.7456 26.4522 30.1522 26.0455 30.1522 25.5439V21.2542C30.4612 20.9437 30.735 20.5985 30.9695 20.226C31.249 20.6697 31.585 21.0741 31.9685 21.4284V34.7487H30.1522V29.7829C30.1522 29.2812 29.7456 28.8745 29.244 28.8745C28.7423 28.8745 28.3358 29.2812 28.3358 29.7829V34.7487H24.3909C23.9202 34.7487 23.455 34.6258 23.0458 34.3935L22.9503 34.3391C20.3035 32.8125 16.9052 33.213 14.6862 35.3132L12.4826 37.3985C12.0649 37.7941 11.8234 38.3509 11.82 38.9263C11.8169 39.5017 12.0522 40.0612 12.4654 40.4612L15.0218 42.9358C15.4334 43.3343 15.9747 43.5455 16.5482 43.5316C17.1209 43.5173 17.6517 43.279 18.0432 42.8606L19.4732 41.3316C19.853 40.9255 20.4153 40.7679 20.9361 40.8946L15.7268 49.757C15.7242 49.7618 15.7214 49.7664 15.7188 49.7711C15.0752 50.9123 15.3339 52.356 16.3341 53.2039C16.8331 53.6269 17.4544 53.8339 18.0781 53.8339C18.8433 53.8339 19.6123 53.5222 20.1634 52.9155L24.8832 47.7208C25.8209 46.6885 27.0214 45.9471 28.3359 45.557V56.1863H13.199C12.6973 56.1863 12.2908 56.5931 12.2908 57.0947C12.2908 57.5964 12.6973 58.0031 13.199 58.0031H15.0154V60.1832H6.7811V59.5171C6.7811 58.6822 7.46007 58.0031 8.29476 58.0031H8.96077C9.46246 58.0031 9.86897 57.5964 9.86897 57.0947C9.86897 56.5931 9.46246 56.1863 8.96077 56.1863H8.29476C6.45863 56.1863 4.96471 57.6805 4.96471 59.5171V60.486C4.96471 61.3209 5.64368 62 6.47837 62H55.521C56.3557 62 57.0347 61.3209 57.0347 60.486V59.5171C57.0347 57.6805 55.5407 56.1863 53.7046 56.1863H33.7848V45.4297C35.2881 45.7698 36.67 46.5629 37.7219 47.7208L42.4416 52.9155C43.4421 54.0166 45.1598 54.1457 46.271 53.2038C47.2712 52.3559 47.5298 50.9123 46.8863 49.7712L45.3648 47.0716C45.1185 46.6346 44.5648 46.4799 44.1276 46.7264C43.6908 46.9728 43.5362 47.5268 43.7825 47.9638L45.3041 50.6636C45.5204 51.0471 45.433 51.5324 45.0963 51.8177C44.723 52.1341 44.1351 52.0781 43.7859 51.6936L39.0662 46.4988C37.2913 44.5453 34.7599 43.4249 32.1209 43.4249H30.4839C27.8448 43.4249 25.3135 44.5452 23.5387 46.4988L18.8189 51.6936C18.4694 52.0783 17.8816 52.1341 17.5085 51.8177C17.1735 51.5338 17.0854 51.0519 17.2974 50.6694L23.0034 40.9618C23.128 40.7496 23.1615 40.4957 23.0957 40.2586C23.0298 40.0215 22.8707 39.821 22.6543 39.7035L22.1693 39.4397C20.8372 38.7151 19.1827 38.9824 18.1464 40.0904L16.7165 41.6194C16.6411 41.7 16.5503 41.714 16.5028 41.7152C16.4567 41.717 16.364 41.7068 16.2847 41.63L13.7283 39.1555C13.6474 39.0772 13.6358 38.9844 13.636 38.9362C13.6364 38.8879 13.649 38.7952 13.7306 38.718L15.934 36.6327C17.5744 35.0803 20.0862 34.7842 22.0475 35.9156L22.1484 35.973C22.8306 36.3604 23.606 36.5652 24.3906 36.5652H33.7435C35.8581 36.5652 37.7965 35.4096 38.8025 33.5496L40.1893 30.9857C40.8569 29.7515 42.0164 28.8333 43.3705 28.4664L45.5308 27.8817V28.2316C45.5308 29.0547 45.7546 29.8627 46.178 30.5683L46.8408 31.6734C47.8851 33.4142 48.4371 35.4075 48.4371 37.4375C48.4917 37.8538 48.2124 38.2654 47.771 38.2614H47.0031C46.7642 38.2703 46.5789 38.1223 46.4211 37.9611L43.7395 35.7982C43.5349 35.6331 43.2693 35.5647 43.01 35.6109C42.7513 35.6571 42.5252 35.8131 42.3902 36.0387L40.6124 39.0094C40.4414 39.295 40.3241 39.572 40.2536 39.8562C40.0487 40.6842 40.1664 41.5495 40.5853 42.2927L41.697 44.2651C41.9432 44.7021 42.4972 44.8567 42.9342 44.6102C43.371 44.3639 43.5257 43.8099 43.2794 43.3729L42.1676 41.4005C41.9772 41.0626 41.9236 40.6693 42.0167 40.2932C42.0429 40.1877 42.0948 40.0697 42.171 39.9424L43.4123 37.8682L45.2362 39.3393C45.7007 39.8099 46.3405 40.0783 47.0031 40.0783H47.771C49.2014 40.0831 50.3331 38.8597 50.2535 37.4376C50.2535 35.0784 49.6119 32.762 48.3984 30.7388L47.7354 29.6338C47.4814 29.2103 47.3472 28.7255 47.3472 28.2317V27.6444C47.3472 27.1311 47.1134 26.6578 46.7059 26.3458C46.2982 26.0338 45.7803 25.932 45.2851 26.0661L42.896 26.7134C41.064 27.2097 39.4953 28.4519 38.5921 30.1217L37.2053 32.6857C36.5236 33.9463 35.2155 34.7327 33.7849 34.7476V22.5767C34.4642 22.8491 35.2044 23.0005 35.9798 23.0005C38.0882 23.0005 39.9414 21.8912 40.99 20.2263C42.0385 21.8912 43.8917 23.0005 46.0002 23.0005C48.1087 23.0005 49.9619 21.8912 51.0104 20.2263C52.0669 21.9078 53.9559 23.023 56.0812 23.0005C59.3446 23.0005 61.9996 20.345 61.9996 17.0809C61.9978 17.0598 62.0041 15.7949 61.9947 15.8216ZM35.1168 58.0036V60.1837H26.8825V58.0036H35.1168ZM36.9332 58.0036H45.1676V60.1837H36.9332V58.0036ZM16.8318 58.0036H25.0661V60.1837H16.8318V58.0036ZM55.2183 59.5176V60.1837H46.9839V58.0036H53.7046C54.5393 58.0036 55.2183 58.6827 55.2183 59.5176ZM31.9684 45.2422V56.1868H30.152V45.2511C30.3687 45.2352 31.7239 45.2445 31.9684 45.2422ZM51.0103 15.0067H41.4764L33.4181 2.89225L57.2936 15.0066L51.0103 15.0067ZM30.9694 15.0067H22.7046L30.9997 2.53629L39.2948 15.0067H30.9694ZM5.91831 21.1837C3.65642 21.1837 1.81629 19.3431 1.81629 17.0809V16.8235H10.0203V17.0809C10.0203 19.3431 8.18021 21.1837 5.91831 21.1837ZM15.9388 21.1837C13.6769 21.1837 11.8367 19.3432 11.8367 17.0809V16.8235H20.0408V17.0809C20.0408 19.3431 18.2006 21.1837 15.9388 21.1837ZM25.9592 21.1837C23.6973 21.1837 21.8572 19.3432 21.8572 17.0809V16.8235H30.0612V17.0809C30.0612 19.3431 28.2211 21.1837 25.9592 21.1837ZM35.9796 21.1837C33.7177 21.1837 31.8776 19.3432 31.8776 17.0809V16.8235H40.0816V17.0809C40.0816 19.3431 38.2415 21.1837 35.9796 21.1837ZM46.0001 21.1837C43.7382 21.1837 41.898 19.3432 41.898 17.0809V16.8235H50.1021V17.0809C50.1021 19.3431 48.262 21.1837 46.0001 21.1837ZM60.1831 17.0809C60.185 19.3649 58.3031 21.2179 56.0205 21.1837C53.7586 21.1837 51.9185 19.3432 51.9185 17.0809V16.8235H60.1831V17.0809Z"
      fill={ICON_BLUE}
    ></path>
  </svg>
);

// Animation targets for each category
const categoryAnimationTargets = {
  Land: {
    marker: { left: "60px", top: "17px", right: "auto", bottom: "auto" },
    gradientRotate: 15, // Rotate gradient so yellow is behind Land (top-ish)
    // (Visual center of Land icon appears around -75deg. -75 - 40 = -115)
  },
  Water: {
    marker: {
      left: "137px",
      top: "calc(50% - 80px)",
      right: "auto",
      bottom: "auto",
    }, // Roughly center
    gradientRotate: 70, // Rotate gradient so yellow is behind Water (middle-right)
    // (Visual center of Water icon appears around 25deg. 25 - 40 = -15)
  },
  Kids: {
    marker: { left: "45px", bottom: "17px", top: "auto", right: "auto" },
    gradientRotate: 125, // Rotate gradient so yellow is behind Kids (bottom-ish)
    // (Visual center of Kids icon appears around 105deg. 105 - 40 = 65)
  },
};

const CategorySidebar = ({
  activeCategory,
  onSelectCategory,
  categoryCounts = {},
}) => {
  const currentTargets =
    categoryAnimationTargets[activeCategory] || categoryAnimationTargets.Land;

  // Fixed conic gradient definition (yellow band centered at 40deg from its 'from 0deg')
  const fixedConicGradient = `conic-gradient(from -40deg, ${GRADIENT_LIGHT} 0deg, ${YELLOW} 50deg, ${YELLOW} 60deg,${GRADIENT_LIGHT} 150deg, ${GRADIENT_LIGHT} 0deg)`;

  const categories = [
    {
      name: "Land",
      count: categoryCounts.Land || 74,
      Icon: LandIcon,
      pos: { right: "180px", top: "66px" },
    },
    {
      name: "Water",
      count: categoryCounts.Water || 55,
      Icon: WaterIcon,
      pos: { right: "100px", top: "50%", transform: "translateY(-50%)" },
    },
    {
      name: "Kids",
      count: categoryCounts.Kids || 36,
      Icon: KidsIcon,
      pos: { right: "198px", bottom: "66px", top: "auto" },
    },
  ];

  return (
    <div className="relative h-[600px] w-[360px] shrink-0">
      {/* 1. Animated Rotating Conic Gradient Layer */}
      <motion.div
        className="absolute right-[92px] top-0 size-[600px] rounded-full"
        style={{ background: fixedConicGradient }}
        animate={{ rotate: currentTargets.gradientRotate }}
        transition={{
          type: "spring",
          stiffness: 100,
          damping: 25,
          duration: 0.8,
        }}
      />

      {/* 2. Static Inner Dark Blue Circle (Visually on top of the rotating gradient) */}
      {/* It shares the same positioning context as the gradient layer but doesn't rotate */}
      <div className="absolute right-[92px] top-0 size-[600px] rounded-full flex items-center justify-center pointer-events-none">
        <div className={`size-[420px] rounded-full bg-[${DARK_BLUE_BG}]`}></div>
      </div>

      {/* 3. Animated Active Category Marker (White Circle) */}
      <motion.div
        className={`absolute size-[160px] translate-y-1 rounded-full border-[10px] border-[${YELLOW}] bg-white pointer-events-none`}
        initial={false} // Don't animate on initial load, use activeCategory's position
        animate={currentTargets.marker}
        transition={{
          type: "spring",
          stiffness: 200,
          damping: 25,
          duration: 0.6,
        }}
      />

      {/* 4. Category Clickable Areas, Icons & Text (Static positions relative to sidebar) */}
      {categories.map(({ name, count, Icon, pos }) => {
        const isActive = activeCategory === name;
        return (
          <div
            key={name}
            className="absolute cursor-pointer group focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400 focus-visible:ring-offset-2 focus-visible:ring-offset-blue-dark rounded-full p-2"
            style={pos}
            onClick={() => onSelectCategory(name)}
            role="button"
            aria-pressed={isActive}
            tabIndex={0}
            onKeyDown={(e) =>
              (e.key === "Enter" || e.key === " ") && onSelectCategory(name)
            }
          >
            <Icon
              className={
                isActive
                  ? "scale-[1.35]"
                  : "scale-100 group-hover:scale-110 group-focus:scale-110"
              }
              // Icon fill is always ICON_BLUE as it's either on white marker or dark background
            />
            {/* Text is hidden when category is active (as it would be behind the marker) */}
            {!isActive && (
              <div
                className={`absolute left-[calc(100%+70px)] top-1/2 flex -translate-y-1/2 flex-col gap-0.5 text-white transition-opacity duration-300 opacity-70 group-hover:opacity-100 group-focus:opacity-100`}
              >
                <span className="text-xl inline-block font-mulish font-normal !leading-[1.255] whitespace-nowrap">
                  {name}
                </span>
                <span
                  className={`text-sm font-mulish font-normal !leading-[1.255] flex h-6 w-max items-center justify-center rounded-full bg-[${LIGHT_BLUE_BADGE}] px-3`}
                >
                  {count} Rides
                </span>
              </div>
            )}
          </div>
        );
      })}
    </div>
  );
};

export default CategorySidebar;
